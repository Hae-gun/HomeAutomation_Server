DROP TABLE DOOR;

DROP TABLE AIRCONDITIONER;

DROP TABLE WINDOW;

DROP TABLE AIRPURIFIER;

DROP TABLE LIGHT;



create table DOOR(

EMAIL VARCHAR2(50),

DOOR_STATUS VARCHAR2(50),

DOOR_TIME TIMESTAMP

);
INSERT INTO DOOR VALUES ('123456@naver.com','80',SYSDATE);
/*
85% 이상일때 본인인식 
*/


CREATE TABLE AIRCONDITIONER(

EMAIL VARCHAR2(50),

AIRCONDITIONER_STATUS VARCHAR2(5),

AIRCONDITIONER_TIME TIMESTAMP 
);


INSERT INTO AIRCONDITIONER VALUES('123456@naver.com','ON',sysdate);


CREATE TABLE WINDOW(

EMAIL VARCHAR2(50),

WINDOW_STATUS VARCHAR2(5),

WINDOW_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO WINDOW VALUES('123456@naver.com','ON',SYSDATE);


CREATE TABLE AIRPURIFIER(

EMAIL VARCHAR2(50),

AIRPURIFIER_STATUS VARCHAR2(5),

AIRPURIFIER_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

INSERT INTO AIRPURIFIER VALUES('123456@naver.com','ON',SYSDATE);


CREATE TABLE LIGHT(

EMAIL VARCHAR2(50),

LIGHT_STATUS VARCHAR2(5),

LIGHT_TIME TIMESTAMP DEFAULT CURRENT_TIMESTAMP

);
INSERT INTO LIGHT VALUES('123456@naver.com','ON',SYSDATE);

commit;

SELECT AIRCONDITIONER_STATUS, AIRCONDITIONER_TIME
FROM 
 (
  SELECT AIRCONDITIONER_STATUS, AIRCONDITIONER_TIME
  FROM AIRCONDITIONER
  ORDER BY AIRCONDITIONER_TIME DESC
 )
WHERE ROWNUM <= 10;

SELECT AIRPURIFIER_STATUS, AIRPURIFIER_TIME
FROM 
 (
  SELECT AIRPURIFIER_STATUS, AIRPURIFIER_TIME
  FROM AIRPURIFIER
  ORDER BY AIRPURIFIER_TIME DESC
 )
WHERE ROWNUM <= 10;

SELECT DOOR_STATUS, DOOR_TIME
FROM 
 (
  SELECT DOOR_STATUS, DOOR_TIME
  FROM DOOR
  ORDER BY DOOR_TIME DESC
 )
WHERE ROWNUM <= 10;

SELECT WINDOW_STATUS, WINDOW_TIME
FROM 
 (
  SELECT WINDOW_STATUS, WINDOW_TIME
  FROM WINDOW
  ORDER BY WINDOW_TIME DESC
 )
WHERE ROWNUM <= 10;

SELECT LIGHT_STATUS, LIGHT_TIME
FROM 
 (
  SELECT LIGHT_STATUS, LIGHT_TIME
  FROM LIGHT
  ORDER BY LIGHT_TIME DESC
 )
WHERE ROWNUM <= 10;

